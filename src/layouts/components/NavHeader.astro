---
---

<header class="nav-header">
  <div class="container">
    <div class="logo">
      <a href="/">
        <picture>
          <source media="(max-width: 780px)" srcset="/images/home/logo-dark.webp" />
          <img src="/images/home/logo.png" alt="picnet logo" loading="lazy" width="150" height="40" />
        </picture>
      </a>
    </div>

    <nav class="header__nav" id="headerNav">
      <a href="/#services">Services</a>
      <a href="/#about-us">About Us</a>
      <a href="https://picnet.com.au/blog/">News & Updates</a>
      <a href="/#contact">Contact Us</a>

      <button type="button" class="burger-btn" id="closeBurgerButton">
        <i class="fa-solid fa-xmark fa-xl"></i>
      </button>
    </nav>

    <div class="contact">
      <a href="https://www.linkedin.com/company/picnet-pty-ltd/" target="_blank" class="linkeldn">
        <i class="fa-brands fa-linkedin-in fa-xl"></i>
      </a>

      <a href="tel:+61284377900" class="phone">+61 2 8437 7900</a>
    </div>

    <button type="button" class="burger-btn" id="openBurgerButton">
      <i class="fa-solid fa-bars fa-xl"></i>
    </button>
  </div>
</header>

<script>
  window.document.addEventListener('DOMContentLoaded', () => {
    const openBurgerButton = document.getElementById('openBurgerButton');
    const headerNav = document.getElementById('headerNav');
    const headerNavChildren = document.querySelectorAll('#headerNav > *');

    if (!openBurgerButton || !headerNav || !headerNavChildren) {
      return;
    }

    const showMenu = () => {
      if (window.matchMedia('(max-width: 780px)').matches) {
        headerNav.style.transform = `translateX(0%)`;
      }
    };

    const hideMenu = () => {
      if (window.matchMedia('(max-width: 780px)').matches) {
        headerNav.style.transform = `translateX(100%)`;
      }
    };

    openBurgerButton.onclick = showMenu;

    // Close mobile menu when click on its child
    headerNavChildren.forEach((child) => {
      child.addEventListener('click', hideMenu);
    });

    let timeout: NodeJS.Timeout = -1 as unknown as NodeJS.Timeout, // holder for timeout id
      delay = 250; // delay after event is "complete" to run callback

    const onMatchMobileMedia = () => {
      if (!window.matchMedia('(max-width: 780px)').matches) {
        headerNav.style.transform = '';
      }
    };

    // window.resize event listener
    window.addEventListener('resize', function () {
      // clear the timeout
      clearTimeout(timeout);
      // start timing for event "completion"
      timeout = setTimeout(onMatchMobileMedia, delay);
    });

    onMatchMobileMedia();
  });
</script>

<style lang="scss">
  @import '@styles/scss/base-var.scss';
  @import '@styles/scss/colors.scss';
  @import '@styles/scss/typography.scss';

  a {
    color: $color-silver;

    &:hover {
      color: white;
    }
  }

  header {
    padding-top: $base;
    background-color: transparent;
    position: absolute;
    left: 0;
    right: 0;
    top: 0;
    z-index: 1;

    .container {
      display: flex;
      align-items: center;
      justify-content: center;

      padding: $base * 2 $base * 10;
      font-weight: bold;

      .header__nav {
        flex: 1;
        display: flex;
        justify-content: center;
        align-items: center;
        gap: $base * 4;
        transition: transform $base-transition;

        a {
          font-weight: 600;
          font-size: 14px;
          letter-spacing: -0.03px;
          text-transform: uppercase;
          line-height: 42px;
        }
      }

      .contact {
        display: flex;
        align-items: center;
        gap: 2rem;

        .phone {
          margin-left: auto;
          background-color: white;
          padding-inline: 1.75rem;
          border-radius: 20px;
          height: 42px;
          vertical-align: middle;
          color: #0d364c;
          line-height: 42px;
          display: inline-block;
          font-weight: 600;
        }
      }

      .burger-btn {
        display: none;
      }
    }
  }

  @media only screen and (max-width: $screen-lg) {
    header {
      background: $color-white;
      .container {
        justify-content: space-between;
        padding: $base * 2;

        .contact {
          display: none;
        }

        .header__nav {
          position: fixed;
          flex-direction: column;
          justify-content: flex-start;
          padding-top: $base * 12;
          background-color: $color-white;
          inset: 0;
          z-index: 3;
          transform: translateX(100%);
          box-shadow: $base-box-shadow;

          a {
            transition: color $base-transition;

            &:hover {
              color: $color-text-info;
            }
          }
        }

        .burger-btn {
          display: block;
          background: none;

          &#closeBurgerButton {
            order: -1;
          }
        }
      }
    }
  }
</style>
