---
import Dialog from "./Dialog.astro";

const { logo, brand, title, more } = Astro.props;
const dialogid = `dialogid_${logo.split(".")[0]}`;
---

<div class="case-studies__image" onclick={`window.${dialogid}.showModal()`}>
  <img src={`/images/home/customers/${logo}`} />
</div>

<Dialog dialogid={dialogid} open="Open modal">
  <div class="modal__content">
    <div class="branding">
      <img src={`/images/home/customers/${brand}`} />
    </div>
    <div class="content">
      <h1>{title}</h1>
      <slot />
      <a class="more" href={more}>More...</a>
    </div>
  </div>
</Dialog>

<style lang="scss">
  @import "../layouts/global.scss";

  .case-studies__image {
    max-width: 180px;
    max-height: 100px;
    background-color: $color-white;
    padding: $base * 2;
    border-radius: $base * 0.5;

    cursor: pointer;

    img {
      filter: grayscale(100%);
      width: 100%;
      height: 100%;
      object-fit: contain;
      object-position: center;
      transition: filter 0.4s $base-animation-timing;
    }

    &:hover {
      img {
        filter: none;
      }
    }
  }

  .modal__content {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1rem;
  }
</style>
