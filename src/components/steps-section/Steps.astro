---
export type Step = {
  title: string;
  subtitle: string;
  description: string;
};

interface Props {
  data: Step[];
}

const { data } = Astro.props;
---

<div class="steps">
  {
    data.map(({ title, subtitle, description }, index) => (
      <div class="steps__item">
        <div class="steps__item__head">
          <strong class="steps__item__title">{title}</strong>
          <p class="steps__item__subtitle">{subtitle}</p>
        </div>

        <div class="steps__item__divider">
          <span class="steps__item__counter">0{index + 1}</span>
          <div class="steps__item__divider__line" />
        </div>

        <p class="steps__item__body">{description}</p>
      </div>
    ))
  }
</div>

<style lang="scss">
  @import '@styles/scss/colors.scss';
  @import '@styles/scss/base-var.scss';
  @import '@styles/scss/typography.scss';

  .steps {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    margin-top: $base * 8;

    .steps__item {
      display: grid;
      grid-template-rows: 40px 80px auto;

      &__head {
        .steps__item {
          & > * {
            letter-spacing: 0.05em;
          }

          &__title {
            text-transform: uppercase;
            font-size: $text-base;
            color: $color-text-2;
          }

          &__subtitle {
            font-weight: 300;
            font-size: $text-sm;
            color: $color-text-secondary;
          }
        }
      }

      &__divider {
        display: flex;
        align-items: center;

        &__line {
          width: 100%;
          height: 2px;
          background-color: $color-text-info;
        }

        .steps__item__counter {
          flex-shrink: 0;

          border-radius: 50%;
          width: $base * 5;
          height: $base * 5;
          display: grid;
          place-items: center;

          color: $color-white;
          font-weight: 500;
          background-color: $color-text-info;
        }
      }

      &__body {
        color: $color-text-primary;
        padding-right: 1em;
      }
    }
  }

  @media only screen and (max-width: $screen-lg) {
    .steps {
      grid-template-columns: 1fr;
      row-gap: $base * 2;
    }
  }
</style>
